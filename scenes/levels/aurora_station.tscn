[gd_scene load_steps=12 format=3 uid="uid://c8xh5rd7yfh8n"]

[ext_resource type="PackedScene" uid="uid://b8xn5q7y8vkxd" path="res://scenes/player/player.tscn" id="1_station"]
[ext_resource type="PackedScene" uid="uid://cm8kv3r1n5x6p" path="res://scenes/ui/player_ui.tscn" id="2_station"]
[ext_resource type="Script" uid="uid://dh6e1g5mpcsg4" path="res://scripts/managers/game_manager.gd" id="3_station"]
[ext_resource type="PackedScene" uid="uid://bqn7gxm5h8yxp" path="res://scenes/environment/sliding_door.tscn" id="4_station"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1"]
sky_top_color = Color(0.02, 0.02, 0.05, 1)
sky_horizon_color = Color(0.05, 0.05, 0.1, 1)
ground_bottom_color = Color(0.02, 0.02, 0.05, 1)
ground_horizon_color = Color(0.05, 0.05, 0.1, 1)

[sub_resource type="Sky" id="Sky_1"]
sky_material = SubResource("ProceduralSkyMaterial_1")

[sub_resource type="Environment" id="Environment_1"]
background_mode = 2
sky = SubResource("Sky_1")
ambient_light_source = 3
ambient_light_color = Color(0.15, 0.15, 0.2, 1)
ambient_light_energy = 0.2
tonemap_mode = 2
glow_enabled = true
glow_intensity = 0.6
glow_bloom = 0.05

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_floor"]
albedo_color = Color(0.25, 0.25, 0.3, 1)
metallic = 0.5
roughness = 0.6

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ceiling"]
albedo_color = Color(0.2, 0.2, 0.25, 1)
metallic = 0.2
roughness = 0.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wall"]
albedo_color = Color(0.35, 0.35, 0.4, 1)
metallic = 0.3
roughness = 0.7

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_accent"]
albedo_color = Color(0.15, 0.3, 0.45, 1)
metallic = 0.7
roughness = 0.3
emission_enabled = true
emission = Color(0.05, 0.15, 0.25, 1)
emission_energy_multiplier = 0.5

[node name="AuroraStation" type="Node3D"]
script = ExtResource("3_station")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1")

[node name="Player" parent="." instance=ExtResource("1_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -3.35502)

[node name="PlayerUI" parent="." instance=ExtResource("2_station")]
grow_horizontal = 2
grow_vertical = 2

[node name="StationStructure" type="Node3D" parent="."]

[node name="DockingBay" type="Node3D" parent="StationStructure"]

[node name="Floor" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -15)
use_collision = true
size = Vector3(15, 1, 20)
material = SubResource("StandardMaterial3D_floor")

[node name="Ceiling" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.5, -15)
use_collision = true
size = Vector3(15, 1, 20)
material = SubResource("StandardMaterial3D_ceiling")

[node name="WallLeft" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 2.5, -15)
use_collision = true
size = Vector3(1, 6, 20)
material = SubResource("StandardMaterial3D_wall")

[node name="WallRight" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 2.5, -15)
use_collision = true
size = Vector3(1, 6, 20)
material = SubResource("StandardMaterial3D_wall")

[node name="WallBack" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -25.5)
use_collision = true
size = Vector3(15, 6, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="WallFront" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -4.5)
use_collision = true
size = Vector3(15, 6, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="DoorwayToCorridor" type="CSGBox3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -4.5)
operation = 2
size = Vector3(3, 3, 2)

[node name="DockingPort" type="CSGCylinder3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -20)
use_collision = true
radius = 2.5
height = 4.0
sides = 16
material = SubResource("StandardMaterial3D_accent")

[node name="DockingPortHole" type="CSGCylinder3D" parent="StationStructure/DockingBay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -20)
operation = 2
radius = 2.0
height = 4.5
sides = 16

[node name="MainCorridor" type="Node3D" parent="StationStructure"]

[node name="CorridorSegment1" type="CSGBox3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 5)
use_collision = true
size = Vector3(4, 1, 20)
material = SubResource("StandardMaterial3D_floor")

[node name="CorridorCeiling1" type="CSGBox3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 5)
use_collision = true
size = Vector3(4, 1, 20)
material = SubResource("StandardMaterial3D_ceiling")

[node name="CorridorLeftWall1" type="CSGBox3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5, 1.5, 5)
use_collision = true
size = Vector3(1, 4, 20)
material = SubResource("StandardMaterial3D_wall")

[node name="CorridorRightWall1" type="CSGBox3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 1.5, 5)
use_collision = true
size = Vector3(1, 4, 20)
material = SubResource("StandardMaterial3D_wall")

[node name="Junction" type="Node3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 15)

[node name="JunctionFloor" type="CSGBox3D" parent="StationStructure/MainCorridor/Junction"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(10, 1, 10)
material = SubResource("StandardMaterial3D_floor")

[node name="JunctionCeiling" type="CSGBox3D" parent="StationStructure/MainCorridor/Junction"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 0)
use_collision = true
size = Vector3(10, 1, 10)
material = SubResource("StandardMaterial3D_ceiling")

[node name="LeftCorridor" type="Node3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, 15)

[node name="Floor" type="CSGBox3D" parent="StationStructure/MainCorridor/LeftCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(20, 1, 4)
material = SubResource("StandardMaterial3D_floor")

[node name="Ceiling" type="CSGBox3D" parent="StationStructure/MainCorridor/LeftCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 0)
use_collision = true
size = Vector3(20, 1, 4)
material = SubResource("StandardMaterial3D_ceiling")

[node name="FrontWall" type="CSGBox3D" parent="StationStructure/MainCorridor/LeftCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -2.5)
use_collision = true
size = Vector3(20, 4, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="BackWall" type="CSGBox3D" parent="StationStructure/MainCorridor/LeftCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 2.5)
use_collision = true
size = Vector3(20, 4, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="RightCorridor" type="Node3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 0, 15)

[node name="Floor" type="CSGBox3D" parent="StationStructure/MainCorridor/RightCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(20, 1, 4)
material = SubResource("StandardMaterial3D_floor")

[node name="Ceiling" type="CSGBox3D" parent="StationStructure/MainCorridor/RightCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 0)
use_collision = true
size = Vector3(20, 1, 4)
material = SubResource("StandardMaterial3D_ceiling")

[node name="FrontWall" type="CSGBox3D" parent="StationStructure/MainCorridor/RightCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -2.5)
use_collision = true
size = Vector3(20, 4, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="BackWall" type="CSGBox3D" parent="StationStructure/MainCorridor/RightCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 2.5)
use_collision = true
size = Vector3(20, 4, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="EndCorridor" type="Node3D" parent="StationStructure/MainCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 25)

[node name="Floor" type="CSGBox3D" parent="StationStructure/MainCorridor/EndCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 5)
use_collision = true
size = Vector3(4, 1, 10)
material = SubResource("StandardMaterial3D_floor")

[node name="Ceiling" type="CSGBox3D" parent="StationStructure/MainCorridor/EndCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.5, 5)
use_collision = true
size = Vector3(4, 1, 10)
material = SubResource("StandardMaterial3D_ceiling")

[node name="LeftWall" type="CSGBox3D" parent="StationStructure/MainCorridor/EndCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5, 1.5, 5)
use_collision = true
size = Vector3(1, 4, 10)
material = SubResource("StandardMaterial3D_wall")

[node name="RightWall" type="CSGBox3D" parent="StationStructure/MainCorridor/EndCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 1.5, 5)
use_collision = true
size = Vector3(1, 4, 10)
material = SubResource("StandardMaterial3D_wall")

[node name="EndWall" type="CSGBox3D" parent="StationStructure/MainCorridor/EndCorridor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 10.5)
use_collision = true
size = Vector3(4, 4, 1)
material = SubResource("StandardMaterial3D_wall")

[node name="Doors" type="Node3D" parent="."]

[node name="DockingBayDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4.5)
door_name = "Docking Bay Access"

[node name="SecurityOfficeDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 0)
door_name = "Security Office"

[node name="MedicalBayDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
door_name = "Medical Bay"

[node name="LaboratoryDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 10)
door_name = "Laboratory"

[node name="CrewQuartersDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 10)
door_name = "Crew Quarters"

[node name="CafeteriaDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7, 0, 15)
door_name = "Cafeteria"

[node name="EngineeringDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7, 0, 15)
door_name = "Engineering Bay"

[node name="CaptainsOfficeDoor" parent="Doors" instance=ExtResource("4_station")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 30)
door_name = "Captain's Office"

[node name="Lighting" type="Node3D" parent="."]

[node name="DockingBayLight" type="SpotLight3D" parent="Lighting"]
transform = Transform3D(1, 0, 0, 0, -0.707107, 0.707107, 0, -0.707107, -0.707107, 0, 5, -15)
light_color = Color(0.9, 0.9, 1, 1)
light_energy = 3.0
spot_range = 15.0
spot_angle = 60.0

[node name="CorridorLight1" type="OmniLight3D" parent="Lighting"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)
light_color = Color(0.9, 0.9, 1, 1)
light_energy = 1.5
omni_range = 8.0

[node name="CorridorLight2" type="OmniLight3D" parent="Lighting"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 10)
light_color = Color(0.9, 0.9, 1, 1)
light_energy = 1.5
omni_range = 8.0

[node name="JunctionLight" type="OmniLight3D" parent="Lighting"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 15)
light_color = Color(0.9, 0.9, 1, 1)
light_energy = 2.0
omni_range = 10.0
